CREATE TABLE `Exports` (
	`export_id` mediumint NOT NULL AUTO_INCREMENT,
	`client_id` mediumint NOT NULL,
	`product_id` mediumint NOT NULL,
	`export_amount` int NOT NULL,
	`export_datetime` DATETIME NOT NULL DEFAULT CURRENT_DATETIME,
	PRIMARY KEY (`export_id`)
);

CREATE TABLE `Products` (
	`product_id` mediumint NOT NULL AUTO_INCREMENT,
	`product_name` varchar(25) NOT NULL,
	`product_description` varchar(250),
	PRIMARY KEY (`product_id`)
);

CREATE TABLE `Transactions` (
	`transaction_id` mediumint NOT NULL AUTO_INCREMENT,
	`transaction_supplier` mediumint NOT NULL,
	`transaction_consumer` mediumint NOT NULL,
	`transaction_price` DECIMAL(19,8) NOT NULL,
	`transaction_amount` int NOT NULL,
	`transaction_timestamp` DATETIME NOT NULL,
	`transaction_product` mediumint NOT NULL,
	PRIMARY KEY (`transaction_id`)
);

CREATE TABLE `TransactionInformation` (
	`transaction_id` mediumint NOT NULL AUTO_INCREMENT,
	`supplier_account` mediumint NOT NULL,
	`consumer_account` mediumint NOT NULL,
	PRIMARY KEY (`transaction_id`)
);

CREATE TABLE `Accounts` (
	`account_id` mediumint NOT NULL AUTO_INCREMENT,
	`client_id` mediumint NOT NULL,
	`account_amount` DECIMAL(19,8) NOT NULL,
	PRIMARY KEY (`account_id`)
);

CREATE TABLE `Clients` (
	`client_id` mediumint NOT NULL AUTO_INCREMENT,
	`client_username` varchar(30) NOT NULL,
	`client_password_hash` varchar(40) NOT NULL,
	PRIMARY KEY (`client_id`)
);

CREATE TABLE `ClientContacts` (
	`client_mail` varchar(255) NOT NULL AUTO_INCREMENT,
	`client_id` mediumint NOT NULL,
	PRIMARY KEY (`client_mail`)
);

CREATE TABLE `Imports` (
	`import_id` mediumint NOT NULL AUTO_INCREMENT,
	`client_id` mediumint NOT NULL,
	`product_id` mediumint NOT NULL,
	`import_datetime` DATETIME NOT NULL,
	`import_amount` int NOT NULL,
	PRIMARY KEY (`import_id`)
);

CREATE TABLE `Stock` (
	`stock_id` mediumint NOT NULL,
	`product_id` mediumint NOT NULL,
	`client_id` mediumint NOT NULL,
	`stock_amount` int NOT NULL,
	`stock_price` DECIMAL(19,8) NOT NULL,
	PRIMARY KEY (`stock_id`)
);

ALTER TABLE `Exports` ADD CONSTRAINT `Exports_fk0` FOREIGN KEY (`client_id`) REFERENCES `Clients`(`client_id`);

ALTER TABLE `Exports` ADD CONSTRAINT `Exports_fk1` FOREIGN KEY (`product_id`) REFERENCES `Products`(`product_id`);

ALTER TABLE `Transactions` ADD CONSTRAINT `Transactions_fk0` FOREIGN KEY (`transaction_product`) REFERENCES `Products`(`product_id`);

ALTER TABLE `TransactionInformation` ADD CONSTRAINT `TransactionInformation_fk0` FOREIGN KEY (`transaction_id`) REFERENCES `Transactions`(`transaction_id`);

ALTER TABLE `TransactionInformation` ADD CONSTRAINT `TransactionInformation_fk1` FOREIGN KEY (`supplier_account`) REFERENCES `Accounts`(`account_id`);

ALTER TABLE `TransactionInformation` ADD CONSTRAINT `TransactionInformation_fk2` FOREIGN KEY (`consumer_account`) REFERENCES `Accounts`(`account_id`);

ALTER TABLE `ClientContacts` ADD CONSTRAINT `ClientContacts_fk0` FOREIGN KEY (`client_id`) REFERENCES `Clients`(`client_id`);

ALTER TABLE `Imports` ADD CONSTRAINT `Imports_fk0` FOREIGN KEY (`client_id`) REFERENCES `Clients`(`client_id`);

ALTER TABLE `Imports` ADD CONSTRAINT `Imports_fk1` FOREIGN KEY (`product_id`) REFERENCES `Products`(`product_id`);

ALTER TABLE `Stock` ADD CONSTRAINT `Stock_fk0` FOREIGN KEY (`product_id`) REFERENCES `Products`(`product_id`);

ALTER TABLE `Stock` ADD CONSTRAINT `Stock_fk1` FOREIGN KEY (`client_id`) REFERENCES `Clients`(`client_id`);

